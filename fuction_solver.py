import math


def fuction_solver(a, b, c, d):
    A = b ** 2 - 3 * a * c
    B = b * c - 9 * a * d
    C = c ** 2 - 3 * b * d
    D = B ** 2 - 4 * A * C
    if A == B == 0:
        # 盛金公式1
        x = [-1 * c / b] * 3
        print("方程有三个相同的实数根：", -1 * c / b)
    elif D > 0:
        # 盛金公式2
        Y1 = A * b + 3 * a * (1 / 2 * (-B + (D ** (1 / 2))))
        Y2 = A * b + 3 * a * (1 / 2 * (-B - (D ** (1 / 2))))
        x = [1 / (a * 3) * (-b - Y1 ** (1 / 3) - Y2 ** (1 / 3)),
             1 / (a * 6) * (
                     -2 * b + Y1 ** (1 / 3) + Y2 ** (1 / 3) - 3 ** (1 / 2) * (Y1 ** (1 / 3) - Y2 ** (1 / 3)) * (
                     (-1) ** (1 / 2))),
             1 / (a * 6) * (
                     -2 * b + Y1 ** (1 / 3) + Y2 ** (1 / 3) + 3 ** (1 / 2) * (Y1 ** (1 / 3) - Y2 ** (1 / 3)) * (
                     (-1) ** (1 / 2)))]
        print("X1=", 1 / (a * 3) * (-b - Y1 ** (1 / 3) - Y2 ** (1 / 3)))
        print("X2=", 1 / (a * 6) * (
                -2 * b + Y1 ** (1 / 3) + Y2 ** (1 / 3) - 3 ** (1 / 2) * (Y1 ** (1 / 3) - Y2 ** (1 / 3)) * (
                    (-1) ** (1 / 2))))
        print("X3=", 1 / (a * 6) * (
                -2 * b + Y1 ** (1 / 3) + Y2 ** (1 / 3) + 3 ** (1 / 2) * (Y1 ** (1 / 3) - Y2 ** (1 / 3)) * (
                    (-1) ** (1 / 2))))
    elif D == 0:
        # 盛金公式3
        K = B / A
        x = [-b / a + K, -K / 2, -K / 2]
        print("X1=", -b / a + K)
        print("X2=X3=", -K / 2)
    elif D < 0:
        # 盛金公式4
        import math
        T = (2 * A * b - 3 * a * B) / (2 * (A ** (3 / 2)))
        p = math.acos(T)
        g3 = math.cos(p / 3) - math.sin(p / 3) * (3 ** (1 / 2))
        g2 = math.cos(p / 3) + math.sin(p / 3) * (3 ** (1 / 2))
        x = [1 / (3 * a) * (-b - 2 * (A ** (1 / 2) * math.cos(p / 3))),
             1 / (3 * a) * (-b + (A ** (1 / 2) * g2)),
             1 / (3 * a) * (-b + (A ** (1 / 2) * g3))]
        print("X1=", 1 / (3 * a) * (-b - 2 * (A ** (1 / 2) * math.cos(p / 3))))
        print("X2=", 1 / (3 * a) * (-b + (A ** (1 / 2) * g2)))
        print("X3=", 1 / (3 * a) * (-b + (A ** (1 / 2) * g3)))
    return x
